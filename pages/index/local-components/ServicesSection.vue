<template>
  <div class="services" id="services-scroll-horizontal" data-bg-color="#000000">
    <div class="services__container">
      <h2 class="services__title">Services</h2>
      <div class="services__track">
        <div class="services__list">
          <a v-for="(service, key) in services" :key="key" class="services__list__item">
            <div class="services__list__item__header">
              <div class="logo-activities">
                <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4.01332 49.822C3.04556 49.6282 2.15683 49.1522 1.4591 48.4541C0.761379 47.756 0.285871 46.867 0.0924883 45.8991C-0.0668448 45.0934 -0.0252471 44.2609 0.213605 43.4751C0.452457 42.6892 0.881208 41.9744 1.46196 41.3936C2.04272 40.8129 2.7576 40.3841 3.54341 40.1453C4.32923 39.9064 5.16178 39.8648 5.96749 40.0241C6.93497 40.2179 7.8235 40.6936 8.5212 41.3913C9.2189 42.089 9.69457 42.9775 9.88832 43.945C10.0477 44.7507 10.0061 45.5832 9.76721 46.369C9.52835 47.1549 9.0996 47.8697 8.51885 48.4505C7.93809 49.0312 7.22321 49.46 6.4374 49.6988C5.65158 49.9377 4.81903 49.9814 4.01332 49.822ZM44.03 9.89082C43.0625 9.69707 42.174 9.2214 41.4763 8.5237C40.7786 7.826 40.3029 6.93747 40.1092 5.96999C39.9498 5.16428 39.9914 4.33173 40.2303 3.54591C40.4691 2.7601 40.8979 2.04522 41.4786 1.46447C42.0594 0.88371 42.7743 0.454959 43.5601 0.216107C44.3459 -0.0227446 45.1784 -0.0643423 45.9842 0.0949908C46.9516 0.288742 47.8402 0.764414 48.5379 1.46211C49.2356 2.15981 49.7112 3.04834 49.905 4.01582C50.0643 4.82153 50.0227 5.65408 49.7839 6.4399C49.545 7.22571 49.1163 7.94059 48.5355 8.52134C47.9548 9.1021 47.2399 9.53085 46.4541 9.7697C45.6682 10.0086 44.8357 10.0502 44.03 9.89082ZM25.0425 12.4783C27.4321 12.4783 29.6654 13.1533 31.5633 14.3179L36.9487 8.93249C33.1036 6.0739 28.3587 4.69347 23.5802 5.04319C18.8017 5.39291 14.3083 7.44947 10.9203 10.8374C7.53239 14.2254 5.47583 18.7188 5.12611 23.4973C4.77638 28.2758 6.15682 33.0207 9.0154 36.8658L14.4029 31.4783C13.2438 29.587 12.6097 27.4208 12.5661 25.203C12.5224 22.9852 13.0708 20.7958 14.1546 18.8603C15.2384 16.9248 16.8186 15.3132 18.7323 14.1915C20.6461 13.0697 22.8242 12.4784 25.0425 12.4783ZM35.6821 18.4366C37.1465 20.8266 37.7637 23.64 37.4342 26.4236C37.1047 29.2071 35.8477 31.7987 33.8657 33.7807C31.8837 35.7626 29.2921 37.0197 26.5086 37.3492C23.7251 37.6787 20.9116 37.0615 18.5217 35.5971L13.1342 40.9825C16.9793 43.8411 21.7242 45.2215 26.5027 44.8718C31.2812 44.522 35.7746 42.4655 39.1625 39.0775C42.5505 35.6896 44.6071 31.1962 44.9568 26.4177C45.3065 21.6392 43.9261 16.8943 41.0675 13.0492L35.6821 18.4366Z" fill="black"/>
                </svg>
              </div>
              <div class="logo-redirect">
                <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4.01332 49.822C3.04556 49.6282 2.15683 49.1522 1.4591 48.4541C0.761379 47.756 0.285871 46.867 0.0924883 45.8991C-0.0668448 45.0934 -0.0252471 44.2609 0.213605 43.4751C0.452457 42.6892 0.881208 41.9744 1.46196 41.3936C2.04272 40.8129 2.7576 40.3841 3.54341 40.1453C4.32923 39.9064 5.16178 39.8648 5.96749 40.0241C6.93497 40.2179 7.8235 40.6936 8.5212 41.3913C9.2189 42.089 9.69457 42.9775 9.88832 43.945C10.0477 44.7507 10.0061 45.5832 9.76721 46.369C9.52835 47.1549 9.0996 47.8697 8.51885 48.4505C7.93809 49.0312 7.22321 49.46 6.4374 49.6988C5.65158 49.9377 4.81903 49.9814 4.01332 49.822ZM44.03 9.89082C43.0625 9.69707 42.174 9.2214 41.4763 8.5237C40.7786 7.826 40.3029 6.93747 40.1092 5.96999C39.9498 5.16428 39.9914 4.33173 40.2303 3.54591C40.4691 2.7601 40.8979 2.04522 41.4786 1.46447C42.0594 0.88371 42.7743 0.454959 43.5601 0.216107C44.3459 -0.0227446 45.1784 -0.0643423 45.9842 0.0949908C46.9516 0.288742 47.8402 0.764414 48.5379 1.46211C49.2356 2.15981 49.7112 3.04834 49.905 4.01582C50.0643 4.82153 50.0227 5.65408 49.7839 6.4399C49.545 7.22571 49.1163 7.94059 48.5355 8.52134C47.9548 9.1021 47.2399 9.53085 46.4541 9.7697C45.6682 10.0086 44.8357 10.0502 44.03 9.89082ZM25.0425 12.4783C27.4321 12.4783 29.6654 13.1533 31.5633 14.3179L36.9487 8.93249C33.1036 6.0739 28.3587 4.69347 23.5802 5.04319C18.8017 5.39291 14.3083 7.44947 10.9203 10.8374C7.53239 14.2254 5.47583 18.7188 5.12611 23.4973C4.77638 28.2758 6.15682 33.0207 9.0154 36.8658L14.4029 31.4783C13.2438 29.587 12.6097 27.4208 12.5661 25.203C12.5224 22.9852 13.0708 20.7958 14.1546 18.8603C15.2384 16.9248 16.8186 15.3132 18.7323 14.1915C20.6461 13.0697 22.8242 12.4784 25.0425 12.4783ZM35.6821 18.4366C37.1465 20.8266 37.7637 23.64 37.4342 26.4236C37.1047 29.2071 35.8477 31.7987 33.8657 33.7807C31.8837 35.7626 29.2921 37.0197 26.5086 37.3492C23.7251 37.6787 20.9116 37.0615 18.5217 35.5971L13.1342 40.9825C16.9793 43.8411 21.7242 45.2215 26.5027 44.8718C31.2812 44.522 35.7746 42.4655 39.1625 39.0775C42.5505 35.6896 44.6071 31.1962 44.9568 26.4177C45.3065 21.6392 43.9261 16.8943 41.0675 13.0492L35.6821 18.4366Z" fill="black"/>
                </svg>
              </div>
            </div>
            <div class="services__list__item__footer">{{ service.title }}</div>
          </a>
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { services } from "~/database/services";

const { $gsap } = useNuxtApp()
if (process.client) {
  let horizontalSection = document.querySelector('.services__list');

  $gsap.to('.services__list', {
    x: () => horizontalSection.scrollWidth * -1,
    xPercent: 100,
    scrollTrigger: {
      trigger: '.services__list',
      start: 'center center',
      end: '+=2000px',
      pin: '#services-scroll-horizontal',
      scrub: true,
      invalidateOnRefresh: true,
    }
  });
}


</script>


<style scoped lang="scss">
.services {
  height: 100vh;
  &__container {
    padding-left: 10%;
    padding-right: 10%;
    position: relative;
  }
  &__title {
    margin: 0;
    font-size: 12rem;
  }
  &__list {
    display: flex;
    gap: 16px;
    &__item {
      flex-shrink: 0;
      border-radius: 20px;
      background-color: #D9D9D9;
      height: 400px;
      width: 400px;
      display: flex;
      justify-content: space-between;
      flex-direction: column;
      position: relative;
      * {
        transition: all ease .3s;
      }
      &__header {
        display: flex;
        justify-content: space-between;
        .logo-activities, .logo-redirect {
          padding: 20px;
        }
      }
      &__footer {
        padding: 20px;
        font-size: 24px;
        font-weight: 600;
      }
      &:hover {
        .logo-redirect {
          background-color: #fff;
          border-radius: 0 0 0 20px;
        }
      }
    }
  }
}
</style>